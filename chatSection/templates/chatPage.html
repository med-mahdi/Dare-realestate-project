{% load static %}


<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Dari</title>
        <link rel="icon" href="/media/logo.png" type="image/icon type">
        <!--  -->
        <link rel="stylesheet" href="{% static 'css/root.css' %}">
        <link rel="stylesheet" href="{% static 'css/chatPage.css' %}">
        <link rel="stylesheet" href="{% static 'css/components_style/navBar.css' %}">
        <link rel="stylesheet" href="{% static 'css/components_style/fotter.css' %}">
        <!-- Google Icons Link -->
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
        <!-- Vue Js -->
        <script src="https://unpkg.com/vue@3"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    </head>
    <body>
        <div class="app">
            {% csrf_token %}
            <navbar-sec background="rgb(243 243 243)" progress_bar="false"></navbar-sec>

            {% if conversation_length > 0 %}
                <section class="chat_room" id="app">
                    <div class="conversation_section">
                        <conversations-listing @open-chat-room="openChatRoom" :data="left_navbar_data"></conversations-listing>
                        <chat-room @open-list-conversations="openLeftnavBar" :convid="conversation_id" :participate_user="conversation_name" :participate_image="conversation_image" :cpnv_lud="conversation_last_update"></chat-room>
                    </div>
                </section>
            {% endif %}
            {% if conversation_length == 0 %}
                <section class="no_chat_room">
                    <div class="container">
                        <svg id="no_msg_icon" width="300" height="300" viewBox="0 0 300 300" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_1038_1142)">
                            <path d="M155.893 296.471C225.422 296.471 281.786 234.581 281.786 158.235C281.786 81.8901 225.422 20 155.893 20C86.3641 20 30 81.8901 30 158.235C30 234.581 86.3641 296.471 155.893 296.471Z" fill="url(#paint0_linear_1038_1142)"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M246.628 68.952C248.731 63.6124 249.354 58.2826 250.268 52.7033C250.446 51.6136 249.706 50.5887 248.617 50.4091C247.527 50.2295 246.498 50.9704 246.319 52.0599C245.452 57.3505 244.9 62.4215 242.904 67.4936C242.5 68.5195 243.007 69.6808 244.036 70.0803C245.062 70.4862 246.225 69.978 246.628 68.952Z" fill="#303030"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M256.767 81.2046C267.137 74.0215 277.296 64.355 284.848 54.2318C285.506 53.3474 285.322 52.0951 284.436 51.4397C283.55 50.7842 282.296 50.965 281.637 51.8494C274.334 61.6371 264.509 70.9862 254.483 77.9268C253.577 78.5566 253.353 79.8011 253.983 80.704C254.614 81.6069 255.861 81.8344 256.767 81.2046Z" fill="#303030"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M257.875 90.7177C266.14 93.2409 275.17 92.0362 283.305 89.7121C284.366 89.405 284.98 88.2999 284.675 87.2461C284.371 86.1857 283.261 85.5741 282.2 85.8746C274.791 87.9942 266.572 89.2001 259.044 86.9032C257.987 86.5806 256.868 87.1752 256.547 88.2254C256.224 89.2756 256.82 90.3952 257.875 90.7177Z" fill="#303030"/>
                            <path d="M52.1124 206.012L52.1123 206.011C51.8321 205.147 50.9014 204.668 50.0327 204.946C49.1632 205.221 48.6837 206.151 48.9646 207.018C50.8358 212.796 54.3903 217.199 59.5853 220.33C60.3663 220.804 61.3841 220.551 61.8551 219.776L61.8555 219.776C62.3287 218.995 62.0765 217.979 61.293 217.511C56.7925 214.798 53.7293 211.008 52.1124 206.012Z" fill="#303030" stroke="#011625"/>
                            <path d="M53.0116 232.301C56.8515 229.927 63.549 230.076 70.5483 231.088C80.0293 232.459 90.054 235.549 94.7611 236.999C95.4648 237.216 96.0497 237.397 96.4961 237.529L53.0116 232.301ZM53.0116 232.301L53.2746 232.727C53.2746 232.727 53.2746 232.727 53.2746 232.727L53.0116 232.301ZM48.3255 264.928L48.3256 264.928C49.2156 265.562 49.8482 266.382 50.0426 267.324L48.3255 264.928ZM48.3255 264.928C47.4759 264.323 46.3509 263.872 45.2538 263.564M48.3255 264.928L45.2538 263.564M45.2538 263.564C44.2672 263.288 43.271 263.118 42.4635 263.061L45.2538 263.564ZM96.7806 234.295L96.5262 234.725L96.7823 234.296C96.7817 234.295 96.7812 234.295 96.7806 234.295ZM40.7868 266.535C41.5452 267.59 42.3933 268.585 43.331 269.498C43.7877 269.943 44.8179 270.813 45.8474 271.182C46.9701 271.589 48.1475 271.48 49.0019 270.53L49.0021 270.53C50.0006 269.419 50.2474 268.313 50.0426 267.324L40.7868 266.535ZM25.3592 285.095C25.3592 285.095 25.3592 285.095 25.3592 285.095C25.3593 285.095 25.3593 285.095 25.3593 285.095L25.852 285.011L25.3592 285.095ZM39.4771 263.457C39.3111 263.499 39.1461 263.543 38.9823 263.589C39.0609 263.741 39.1411 263.892 39.2228 264.041C39.388 263.996 39.5542 263.952 39.7216 263.911C39.6384 263.76 39.5569 263.609 39.4771 263.457ZM88.8971 232.336C88.4723 232.216 88.0375 232.094 87.5937 231.971C87.9503 232.248 88.3096 232.521 88.6718 232.792C89.1476 232.926 89.6112 233.059 90.0612 233.19C89.6696 232.909 89.2817 232.624 88.8971 232.336ZM53.5943 192.114C53.5939 192.114 53.5935 192.114 53.5931 192.114C53.5927 192.115 53.5923 192.115 53.5919 192.115L53.8161 192.562L53.5943 192.114ZM98.0534 238.312C98.0541 238.311 98.0549 238.311 98.0556 238.311C98.0575 238.311 98.0595 238.311 98.0614 238.31L97.9854 237.816L98.0534 238.312ZM40.8521 259.679C40.8521 259.679 40.8521 259.679 40.8521 259.679L40.384 259.855L40.8521 259.679ZM46.4057 267.609L46.4062 267.609C46.5494 267.711 46.6501 267.789 46.7208 267.862C46.7742 267.918 46.7926 267.953 46.7993 267.972C46.7973 267.977 46.7937 267.986 46.7879 267.998C46.787 267.999 46.786 268.001 46.785 268.003C46.7821 268.002 46.7794 268.001 46.7768 267.999C46.3567 267.783 45.9432 267.431 45.6947 267.196C45.9571 267.322 46.198 267.46 46.4057 267.609Z" fill="#303030" stroke="#011625"/>
                            <path d="M136.542 72.4606C136.024 70.3165 132.974 70.3165 132.457 72.4606L131.786 75.2377C131.601 76.0039 131.003 76.6021 130.237 76.7871L127.46 77.4575C125.316 77.975 125.316 81.0246 127.46 81.5422L130.237 82.2126C131.003 82.3975 131.601 82.9958 131.786 83.7619L132.457 86.5391C132.974 88.6831 136.024 88.6831 136.542 86.5391L137.212 83.7619C137.397 82.9958 137.995 82.3975 138.761 82.2126L141.538 81.5422C143.682 81.0246 143.682 77.975 141.538 77.4575L138.761 76.7871C137.995 76.6021 137.397 76.0039 137.212 75.2377L136.542 72.4606Z" fill="#417BA4"/>
                            <circle cx="225.998" cy="220" r="6" fill="#417BA4"/>
                            <path d="M111.135 141.841C112.651 130.482 117.011 119.695 123.806 110.484C130.602 101.273 139.612 93.9387 149.997 89.1656C160.382 84.3925 171.803 82.336 183.194 83.1878C194.585 84.0397 205.575 87.7722 215.14 94.0372L241.199 85.1498C241.985 84.8899 242.829 84.8613 243.631 85.0673C244.433 85.2733 245.159 85.7054 245.723 86.3125C246.288 86.9195 246.668 87.6761 246.818 88.4927C246.967 89.3094 246.881 90.152 246.568 90.9208L236.118 115.929C241.676 125.218 244.935 135.707 245.622 146.519C246.31 157.331 244.406 168.151 240.07 178.074C235.733 187.996 229.091 196.732 220.698 203.55C212.306 210.368 202.407 215.071 191.832 217.263C181.256 219.456 170.31 219.075 159.911 216.153C149.512 213.23 139.962 207.852 132.061 200.466C124.159 193.081 118.136 183.905 114.495 173.705C110.854 163.505 109.702 152.579 111.135 141.841Z" fill="#303030"/>
                            <path d="M66.5975 172.159C68.114 183.518 72.4734 194.305 79.2691 203.516C86.0648 212.727 95.0753 220.061 105.46 224.834C115.845 229.608 127.266 231.664 138.657 230.812C150.048 229.96 161.038 226.228 170.603 219.963L196.662 228.85C197.448 229.11 198.292 229.139 199.094 228.933C199.895 228.727 200.622 228.295 201.186 227.688C201.751 227.081 202.131 226.324 202.28 225.507C202.43 224.691 202.343 223.848 202.031 223.079L191.58 198.071C197.139 188.782 200.398 178.293 201.085 167.481C201.773 156.669 199.869 145.849 195.533 135.926C191.196 126.004 184.554 117.268 176.161 110.45C167.769 103.632 157.87 98.9295 147.295 96.7369C136.719 94.5442 125.773 94.925 115.374 97.8473C104.975 100.77 95.4252 106.148 87.5237 113.534C79.6221 120.919 73.5989 130.095 69.9581 140.295C66.3173 150.495 65.165 161.421 66.5975 172.159Z" fill="#8177FA"/>
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M147.943 159.133C147.943 167.741 141.634 174.037 134.656 174.037C127.678 174.037 121.369 167.741 121.369 159.133L112.369 159.133C112.369 171.958 121.986 183.037 134.656 183.037C147.325 183.037 156.943 171.958 156.943 159.133L147.943 159.133Z" fill="white"/>
                            <path d="M110.4 158.781C114.865 158.781 118.485 155.162 118.485 150.696C118.485 146.231 114.865 142.611 110.4 142.611C105.934 142.611 102.314 146.231 102.314 150.696C102.314 155.162 105.934 158.781 110.4 158.781Z" fill="white"/>
                            <path d="M158.911 158.781C163.377 158.781 166.997 155.162 166.997 150.696C166.997 146.231 163.377 142.611 158.911 142.611C154.446 142.611 150.826 146.231 150.826 150.696C150.826 155.162 154.446 158.781 158.911 158.781Z" fill="white"/>
                            </g>
                            <defs>
                            <linearGradient id="paint0_linear_1038_1142" x1="154.922" y1="-25.0128" x2="158.032" y2="460.445" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#F2F2F2"/>
                            <stop offset="1" stop-color="#EFEFEF"/>
                            </linearGradient>
                            <clipPath id="clip0_1038_1142">
                            <rect width="300" height="300" fill="white"/>
                            </clipPath>
                            </defs>
                        </svg>

                        <p>Bienvenue sur votre messagerie ! Simple et rapide, elle vous permet d'échanger entre particulier La mise en relation s'effectue toujours depuis une annonce en cliquant sur "Envoyer un message".</p>

                    </div>
                </section>
            {% endif %}
            <!-- <fotter-sec test="200"></fotter-sec> -->
        </div>



        <script>
            var test_data = JSON.parse("{{data|escapejs}}")
            console.log(test_data)
            var id_chat = JSON.parse("{{data|escapejs}}").conv_id
        </script>

        <!-- Import Our App -->
        <script src="{% static 'js/chatApp.js' %}"></script>
        <!-- Import Our Component -->
        <script src="{% static 'components/chatPage/leftNavBar.js' %}"></script>
        <script src="{% static 'components/chatPage/chatRoom.js' %}"></script>
        <script src="{% static 'components/reusable_components/navBarComponent.js' %}"></script>
        <script src="{% static 'components/chatPage/conversationListUser.js' %}"></script>
        <!-- Import Our Fotter Component -->
        <script src="{% static 'components/reusable_components/fotter.js' %}"></script>
        <!-- Mount Our App -->
        <script>app.mount(".app")</script>
    </body>
</html>